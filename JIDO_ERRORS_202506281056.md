[info] SIGNAL: jido.agent.event.started from agent:task_agent_telemetry with data=%{agent_id: "task_agent_telemetry"}
[info] The function passed as a handler with ID "test_task_telemetry" is a local function.
This means that it is either an anonymous function or a capture of a function without a module specified. That may cause a performance penalty when calling that handler. For more details see the note in `telemetry:attach/4` documentation.

https://hexdocs.pm/telemetry/telemetry.html#attach/4
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "telemetry_task", task_type: :data_processing, input_data: %{source: "test.csv"}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)


  1) test telemetry integration emits task processing telemetry (JidoSystem.Agents.TaskAgentTest)
     test/jido_system/agents/task_agent_test.exs:347
     Assertion failed, no matching message after 100ms
     The following variables were pinned:
       ref = #Reference<0.1787707664.1410334721.251600>
     The process mailbox is empty.
     code: assert_receive {^ref, [:jido_system, :task, :started], _, _}
     stacktrace:
       test/jido_system/agents/task_agent_test.exs:384: (test)

[info] FoundationAgent mount called for agent task_agent_errors
[info] Attempting to register agent task_agent_errors with Bridge
[info] Registered Jido agent #PID<0.1811.0> with Foundation
[info] Agent task_agent_errors registered with Foundation
[info] TaskAgent task_agent_errors mounted with capabilities: [:task_processing, :validation, :queue_management]
[info] Initializing TaskAgent Agent Server, ID: task_agent_errors, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:task_agent_errors with data=%{agent_id: "task_agent_errors"}
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "error_task", task_type: :invalid_type, input_data: %{}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_errors encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>


  2) test error handling and recovery handles processing errors gracefully (JidoSystem.Agents.TaskAgentTest)
     test/jido_system/agents/task_agent_test.exs:287
     Assertion with == failed
     code:  assert state.agent.state.status == :idle
     left:  :error
     right: :idle
     stacktrace:
       test/jido_system/agents/task_agent_test.exs:310: (test)

[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent task_agent_metrics
[info] Attempting to register agent task_agent_metrics with Bridge
[info] Registered Jido agent #PID<0.1821.0> with Foundation
[info] Agent task_agent_metrics registered with Foundation
[info] TaskAgent task_agent_metrics mounted with capabilities: [:task_processing, :validation, :queue_management]
[info] Initializing TaskAgent Agent Server, ID: task_agent_metrics, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:task_agent_metrics with data=%{agent_id: "task_agent_metrics"}
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "metrics_task_1", task_type: :data_processing, input_data: %{source: "test1.csv"}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_metrics encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "metrics_task_1", task_type: :data_processing, input_data: %{source: "test1.csv"}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 1, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_metrics encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "metrics_task_1", task_type: :data_processing, input_data: %{source: "test1.csv"}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 2, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_metrics encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>


[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
  3) test performance metrics tracks performance metrics correctly (JidoSystem.Agents.TaskAgentTest)
     test/jido_system/agents/task_agent_test.exs:236
     Assertion with > failed, both sides are exactly equal
     code: assert metrics.total_processing_time > 0
     left: 0
     stacktrace:
       test/jido_system/agents/task_agent_test.exs:261: (test)

[info] FoundationAgent mount called for agent task_agent_coordination
[info] Attempting to register agent task_agent_coordination with Bridge
[info] Registered Jido agent #PID<0.1838.0> with Foundation
[info] Agent task_agent_coordination registered with Foundation
[info] TaskAgent task_agent_coordination mounted with capabilities: [:task_processing, :validation, :queue_management]
[info] Initializing TaskAgent Agent Server, ID: task_agent_coordination, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:task_agent_coordination with data=%{agent_id: "task_agent_coordination"}
.[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent task_agent_processing
[info] Attempting to register agent task_agent_processing with Bridge
[info] Registered Jido agent #PID<0.1843.0> with Foundation
[info] Agent task_agent_processing registered with Foundation
[info] TaskAgent task_agent_processing mounted with capabilities: [:task_processing, :validation, :queue_management]
[info] Initializing TaskAgent Agent Server, ID: task_agent_processing, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:task_agent_processing with data=%{agent_id: "task_agent_processing"}
[info] The function passed as a handler with ID "test_task_completion" is a local function.
This means that it is either an anonymous function or a capture of a function without a module specified. That may cause a performance penalty when calling that handler. For more details see the note in `telemetry:attach/4` documentation.

https://hexdocs.pm/telemetry/telemetry.html#attach/4
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: false, task_id: "test_task_1", task_type: :data_processing, input_data: %{format: "csv", source: "test.csv"}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_processing encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)


  4) test task processing processes valid tasks successfully (JidoSystem.Agents.TaskAgentTest)
     test/jido_system/agents/task_agent_test.exs:67
     Assertion failed, no matching message after 5000ms
     The following variables were pinned:
       ref = #Reference<0.1787707664.1410334737.248720>
     The process mailbox is empty.
     code: assert_receive {^ref, :task_completed, measurements, metadata}
     stacktrace:
       test/jido_system/agents/task_agent_test.exs:100: (test)

[info] FoundationAgent mount called for agent task_agent_metrics
[info] Attempting to register agent task_agent_metrics with Bridge
[info] Registered Jido agent #PID<0.1852.0> with Foundation
[info] Agent task_agent_metrics registered with Foundation
[info] TaskAgent task_agent_metrics mounted with capabilities: [:task_processing, :validation, :queue_management]
[info] Initializing TaskAgent Agent Server, ID: task_agent_metrics, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:task_agent_metrics with data=%{agent_id: "task_agent_metrics"}
[notice] Executing JidoSystem.Actions.GetTaskStatus with params: %{} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "get_task_status", description: "Get current task processing status", vsn: nil, category: nil, tags: [], schema: [], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.GetTaskStatus failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1854.0>, action_metadata: %{name: "get_task_status", description: "Get current task processing status", vsn: nil, category: nil, tags: [], schema: [], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.GetTaskStatus (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.GetTaskStatus failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1856.0>, action_metadata: %{name: "get_task_status", description: "Get current task processing status", vsn: nil, category: nil, tags: [], schema: [], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_metrics encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.GetTaskStatus: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1856.0>, action_metadata: %{name: \"get_task_status\", description: \"Get current task processing status\", vsn: nil, category: nil, tags: [], schema: [], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.GetTaskStatus, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 0,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1856.0>,\n  action_metadata: %{\n    name: \"get_task_status\",\n    description: \"Get current task processing status\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/get_task_status.ex:13: JidoSystem.Actions.GetTaskStatus.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>


[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
  5) test performance metrics provides status information (JidoSystem.Agents.TaskAgentTest)
     test/jido_system/agents/task_agent_test.exs:266
     Assertion with in failed
     code:  assert state.agent.state.status in [:idle, :processing, :paused]
     left:  :error
     right: [:idle, :processing, :paused]
     stacktrace:
       test/jido_system/agents/task_agent_test.exs:277: (test)

[info] FoundationAgent mount called for agent task_agent_init
[info] Attempting to register agent task_agent_init with Bridge
[info] Registered Jido agent #PID<0.1862.0> with Foundation
[info] Agent task_agent_init registered with Foundation
[info] TaskAgent task_agent_init mounted with capabilities: [:task_processing, :validation, :queue_management]
[info] Initializing TaskAgent Agent Server, ID: task_agent_init, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:task_agent_init with data=%{agent_id: "task_agent_init"}
.[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent task_agent_errors
[info] Attempting to register agent task_agent_errors with Bridge
[info] Registered Jido agent #PID<0.1867.0> with Foundation
[info] Agent task_agent_errors registered with Foundation
[info] TaskAgent task_agent_errors mounted with capabilities: [:task_processing, :validation, :queue_management]
[info] Initializing TaskAgent Agent Server, ID: task_agent_errors, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:task_agent_errors with data=%{agent_id: "task_agent_errors"}
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "error_task_1", task_type: :invalid_type, input_data: %{}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_errors encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "error_task_1", task_type: :invalid_type, input_data: %{}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 1, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_errors encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "error_task_1", task_type: :invalid_type, input_data: %{}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 2, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_errors encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "error_task_1", task_type: :invalid_type, input_data: %{}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 3, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_errors encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "error_task_1", task_type: :invalid_type, input_data: %{}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 4, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_errors encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "error_task_1", task_type: :invalid_type, input_data: %{}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 5, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_errors encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "error_task_1", task_type: :invalid_type, input_data: %{}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 6, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_errors encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "error_task_1", task_type: :invalid_type, input_data: %{}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 7, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_errors encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "error_task_1", task_type: :invalid_type, input_data: %{}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 8, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_errors encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "error_task_1", task_type: :invalid_type, input_data: %{}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 9, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_errors encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] TaskAgent task_agent_errors has too many errors, pausing
[warning] Agent task_agent_errors encountered error: {:agent_paused, "Task processing is currently paused"}
[notice] Executing JidoSystem.Actions.ProcessTask with params: %{timeout: 30000, priority: :normal, options: %{}, circuit_breaker: true, task_id: "error_task_1", task_type: :invalid_type, input_data: %{}, retry_attempts: 3} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 10, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "process_task", description: "Process tasks with circuit breaker protection and retry logic", vsn: nil, category: nil, tags: [], schema: [task_id: [type: :string, required: true, doc: "Unique task identifier"], task_type: [type: :atom, required: true, doc: "Type of task to process"], input_data: [type: :map, default: %{}, doc: "Task input data"], options: [type: :map, default: %{}, doc: "Processing options and configuration"], priority: [type: :atom, default: :normal, doc: "Task priority level"], timeout: [type: :integer, default: 30000, doc: "Task timeout in milliseconds"], retry_attempts: [type: :integer, default: 3, doc: "Number of retry attempts"], circuit_breaker: [type: :boolean, default: true, doc: "Enable circuit breaker protection"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] Retrying JidoSystem.Actions.ProcessTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.ProcessTask failed: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] Agent task_agent_errors encountered error: #Jido.Error<
  type: :config_error
  message: "run/2 must be implemented in in your Action"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:411: JidoSystem.Actions.ProcessTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
.[warning] TaskAgent task_agent_errors has too many errors, pausing
[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
.[info] FoundationAgent mount called for agent task_agent_periodic
[info] Attempting to register agent task_agent_periodic with Bridge
[info] Registered Jido agent #PID<0.1916.0> with Foundation
[info] Agent task_agent_periodic registered with Foundation
[info] TaskAgent task_agent_periodic mounted with capabilities: [:task_processing, :validation, :queue_management]
[info] Initializing TaskAgent Agent Server, ID: task_agent_periodic, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:task_agent_periodic with data=%{agent_id: "task_agent_periodic"}
[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent task_agent_queue
[info] Attempting to register agent task_agent_queue with Bridge
[info] Registered Jido agent #PID<0.1921.0> with Foundation
[info] Agent task_agent_queue registered with Foundation
[info] TaskAgent task_agent_queue mounted with capabilities: [:task_processing, :validation, :queue_management]
[info] Initializing TaskAgent Agent Server, ID: task_agent_queue, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:task_agent_queue with data=%{agent_id: "task_agent_queue"}
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :high, task: %{id: "high_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1923.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1925.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1925.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 0,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1925.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :high, task: %{id: "high_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 1, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 1, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1927.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 1, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1929.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 1, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1929.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 1,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1929.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :high, task: %{id: "high_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 2, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 2, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1931.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 2, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1933.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 2, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1933.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 2,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1933.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)


  6) test task queuing queues tasks with different priorities (JidoSystem.Agents.TaskAgentTest)
     test/jido_system/agents/task_agent_test.exs:177
     Assertion with == failed
     code:  assert :queue.len(state.agent.state.task_queue) == 3
     left:  0
     right: 3
     stacktrace:
       test/jido_system/agents/task_agent_test.exs:198: (test)

[info] FoundationAgent mount called for agent task_agent_queue
[info] Attempting to register agent task_agent_queue with Bridge
[info] Registered Jido agent #PID<0.1939.0> with Foundation
[info] Agent task_agent_queue registered with Foundation
[info] TaskAgent task_agent_queue mounted with capabilities: [:task_processing, :validation, :queue_management]
[info] Initializing TaskAgent Agent Server, ID: task_agent_queue, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:task_agent_queue with data=%{agent_id: "task_agent_queue"}
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1941.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1943.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1943.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 0,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1943.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 1, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 1, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1945.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 1, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1947.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 1, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1947.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 1,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1947.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 2, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 2, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1949.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 2, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1951.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 2, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1951.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 2,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1951.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 3, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 3, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1953.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 3, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1955.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 3, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1955.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 3,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1955.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 4, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 4, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1957.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 4, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1959.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 4, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1959.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 4,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1959.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 5, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 5, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1961.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 5, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1963.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 5, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1963.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 5,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1963.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 6, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 6, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1965.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 6, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1967.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 6, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1967.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 6,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1967.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 7, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 7, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1969.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 7, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1971.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 7, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1971.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 7,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1971.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 8, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 8, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1973.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 8, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1975.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 8, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1975.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 8,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1975.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 9, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 9, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1977.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 9, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1979.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 9, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1979.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 9,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1979.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] TaskAgent task_agent_queue has too many errors, pausing
[warning] Agent task_agent_queue encountered error: {:agent_paused, "Task processing is currently paused"}
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 10, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 10, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1981.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 10, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1983.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 10, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1983.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 10,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1983.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] TaskAgent task_agent_queue has too many errors, pausing
[warning] Agent task_agent_queue encountered error: {:agent_paused, "Task processing is currently paused"}
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 11, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 11, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1985.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 11, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1987.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 11, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1987.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 11,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1987.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] TaskAgent task_agent_queue has too many errors, pausing
[warning] Agent task_agent_queue encountered error: {:agent_paused, "Task processing is currently paused"}
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 12, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 12, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1989.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 12, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1991.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 12, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1991.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 12,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1991.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] TaskAgent task_agent_queue has too many errors, pausing
[warning] Agent task_agent_queue encountered error: {:agent_paused, "Task processing is currently paused"}
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 13, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 13, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1993.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 13, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1995.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 13, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1995.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 13,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1995.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] TaskAgent task_agent_queue has too many errors, pausing
[warning] Agent task_agent_queue encountered error: {:agent_paused, "Task processing is currently paused"}
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 14, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 14, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1997.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 14, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1999.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 14, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.1999.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 14,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.1999.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] TaskAgent task_agent_queue has too many errors, pausing
[warning] Agent task_agent_queue encountered error: {:agent_paused, "Task processing is currently paused"}
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 15, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 15, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2001.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 15, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2003.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 15, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2003.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 15,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.2003.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] TaskAgent task_agent_queue has too many errors, pausing
[warning] Agent task_agent_queue encountered error: {:agent_paused, "Task processing is currently paused"}
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 16, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 16, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2005.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 16, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2007.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 16, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2007.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 16,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.2007.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] TaskAgent task_agent_queue has too many errors, pausing
[warning] Agent task_agent_queue encountered error: {:agent_paused, "Task processing is currently paused"}
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 17, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 17, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2009.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 17, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2011.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 17, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2011.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 17,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.2011.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] TaskAgent task_agent_queue has too many errors, pausing
[warning] Agent task_agent_queue encountered error: {:agent_paused, "Task processing is currently paused"}
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 18, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 18, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2013.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 18, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2015.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 18, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2015.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 18,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.2015.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] TaskAgent task_agent_queue has too many errors, pausing
[warning] Agent task_agent_queue encountered error: {:agent_paused, "Task processing is currently paused"}
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 19, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 19, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2017.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 19, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2019.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_queue encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.QueueTask: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 19, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2019.0>, action_metadata: %{name: \"queue_task\", description: \"Queue tasks with priority support\", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: \"Task to queue\"], priority: [type: :atom, default: :normal, doc: \"Task priority (:high, :normal, :low)\"], queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"], delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.QueueTask, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 19,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.2019.0>,\n  action_metadata: %{\n    name: \"queue_task\",\n    description: \"Queue tasks with priority support\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      task: [type: :map, required: true, doc: \"Task to queue\"],\n      priority: [\n        type: :atom,\n        default: :normal,\n        doc: \"Task priority (:high, :normal, :low)\"\n      ],\n      queue_name: [type: :string, default: \"default\", doc: \"Target queue name\"],\n      delay: [type: :integer, default: 0, doc: \"Delay before processing (ms)\"]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/queue_task.ex:19: JidoSystem.Actions.QueueTask.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>
[warning] TaskAgent task_agent_queue has too many errors, pausing
[warning] Agent task_agent_queue encountered error: {:agent_paused, "Task processing is currently paused"}
[notice] Executing JidoSystem.Actions.QueueTask with params: %{priority: :normal, task: %{id: "overflow_task_1", type: :data_processing, input_data: %{source: "test.csv"}}, delay: 0, queue_name: "default"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 20, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.QueueTask failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 20, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2021.0>, action_metadata: %{name: "queue_task", description: "Queue tasks with priority support", vsn: nil, category: nil, tags: [], schema: [task: [type: :map, required: true, doc: "Task to queue"], priority: [type: :atom, default: :normal, doc: "Task priority (:high, :normal, :low)"], queue_name: [type: :string, default: "default", doc: "Target queue name"], delay: [type: :integer, default: 0, doc: "Delay before processing (ms)"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.QueueTask (attempt 1/1) after 250ms backoff
[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent task_agent_processing
[info] Attempting to register agent task_agent_processing with Bridge
[info] Registered Jido agent #PID<0.2026.0> with Foundation
[info] Agent task_agent_processing registered with Foundation
[info] TaskAgent task_agent_processing mounted with capabilities: [:task_processing, :validation, :queue_management]


[info] Initializing TaskAgent Agent Server, ID: task_agent_processing, Log Level: info
  7) test task queuing respects queue size limits (JidoSystem.Agents.TaskAgentTest)
     test/jido_system/agents/task_agent_test.exs:201
     ** (exit) exited in: GenServer.call(#PID<0.1939.0>, {:signal, %Jido.Signal{jido_dispatch: nil, data: nil, dataschema: nil, datacontenttype: nil, time: "2025-06-28T20:55:59.201443Z", subject: nil, type: "jido.agent.cmd.state", source: "Elixir.Jido.Agent.Server", id: "0197b853-5300-7d3b-bda3-b23a1f0bb7ce", specversion: "1.0.2"}}, 5000)
         ** (EXIT) time out
     code: {:ok, final_state} = Jido.Agent.Server.state(agent)
     stacktrace:
       (elixir 1.18.3) lib/gen_server.ex:1128: GenServer.call/3
       test/jido_system/agents/task_agent_test.exs:225: (test)

[info] SIGNAL: jido.agent.event.started from agent:task_agent_processing with data=%{agent_id: "task_agent_processing"}
[notice] Executing JidoSystem.Actions.PauseProcessing with params: %{reason: "Manual pause"} and context: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, action_metadata: %{name: "pause_processing", description: "Pause task processing in the agent", vsn: nil, category: nil, tags: [], schema: [reason: [type: :string, default: "Manual pause", doc: "Reason for pausing"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}
[error] Action JidoSystem.Actions.PauseProcessing failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2028.0>, action_metadata: %{name: "pause_processing", description: "Pause task processing in the agent", vsn: nil, category: nil, tags: [], schema: [reason: [type: :string, default: "Manual pause", doc: "Reason for pausing"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[info] Retrying JidoSystem.Actions.PauseProcessing (attempt 1/1) after 250ms backoff
[error] Action JidoSystem.Actions.PauseProcessing failed: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2030.0>, action_metadata: %{name: "pause_processing", description: "Pause task processing in the agent", vsn: nil, category: nil, tags: [], schema: [reason: [type: :string, default: "Manual pause", doc: "Reason for pausing"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}
[warning] Agent task_agent_processing encountered error: #Jido.Error<
  type: :execution_error
  message: "An unexpected error occurred during execution of JidoSystem.Actions.PauseProcessing: %KeyError{key: :agent, term: %{state: %{status: :processing, max_queue_size: 1000, error_count: 0, processed_count: 0, current_task: nil, task_queue: {[], []}, performance_metrics: %{total_processing_time: 0, average_processing_time: 0, fastest_task: nil, slowest_task: nil}, circuit_breaker_state: :closed}, __task_group__: #PID<0.2030.0>, action_metadata: %{name: \"pause_processing\", description: \"Pause task processing in the agent\", vsn: nil, category: nil, tags: [], schema: [reason: [type: :string, default: \"Manual pause\", doc: \"Reason for pausing\"]], compensation: [timeout: 5000, max_retries: 1, enabled: false], output_schema: []}}, message: nil}"
  details: %{action: JidoSystem.Actions.PauseProcessing, exception_details: "Elixir.KeyError: key :agent not found in: %{\n  state: %{\n    status: :processing,\n    max_queue_size: 1000,\n    error_count: 0,\n    processed_count: 0,\n    current_task: nil,\n    task_queue: {[], []},\n    performance_metrics: %{\n      total_processing_time: 0,\n      average_processing_time: 0,\n      fastest_task: nil,\n      slowest_task: nil\n    },\n    circuit_breaker_state: :closed\n  },\n  __task_group__: #PID<0.2030.0>,\n  action_metadata: %{\n    name: \"pause_processing\",\n    description: \"Pause task processing in the agent\",\n    vsn: nil,\n    category: nil,\n    tags: [],\n    schema: [\n      reason: [\n        type: :string,\n        default: \"Manual pause\",\n        doc: \"Reason for pausing\"\n      ]\n    ],\n    compensation: [timeout: 5000, max_retries: 1, enabled: false],\n    output_schema: []\n  }\n}"}
  stacktrace:
    (foundation 0.1.5) lib/jido_system/actions/pause_processing.ex:15: JidoSystem.Actions.PauseProcessing.run/2
    (jido 1.2.0) lib/jido/exec.ex:941: Jido.Exec.execute_action/4
    (jido 1.2.0) lib/jido/exec.ex:843: anonymous fn/7 in Jido.Exec.execute_action_with_timeout/5
>


  8) test task processing respects paused status (JidoSystem.Agents.TaskAgentTest)
     test/jido_system/agents/task_agent_test.exs:134
     Assertion with == failed
     code:  assert state.agent.state.status == :paused
     left:  :error
     right: :paused
     stacktrace:
       test/jido_system/agents/task_agent_test.exs:146: (test)

[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent task_agent_processing
[info] Attempting to register agent task_agent_processing with Bridge
[info] Registered Jido agent #PID<0.2036.0> with Foundation
[info] Agent task_agent_processing registered with Foundation
[info] TaskAgent task_agent_processing mounted with capabilities: [:task_processing, :validation, :queue_management]
[info] Initializing TaskAgent Agent Server, ID: task_agent_processing, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:task_agent_processing with data=%{agent_id: "task_agent_processing"}
[warning] Agent task_agent_processing encountered error: #Jido.Error<
  type: :validation_error
  message: "Invalid parameters for Action (Elixir.JidoSystem.Actions.ProcessTask): required :task_id option not found, received options: [:input_data]"
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:374: JidoSystem.Actions.ProcessTask.do_validate_params/1
    (foundation 0.1.5) deps/jido/lib/jido/action.ex:319: JidoSystem.Actions.ProcessTask.validate_params/1
    (jido 1.2.0) lib/jido/exec.ex:407: Jido.Exec.validate_params/2
    (jido 1.2.0) lib/jido/exec.ex:133: Jido.Exec.run/4
>
.[info] Starting barrier coordination with 2 training agents
.[info] Starting consensus coordination with 3 inference agents
..[info] Created barrier :node1_sync for 1 inference agents
..[warning] Insufficient inference agents for load balancing
...[info] Starting unknown_type coordination with 3 inference agents
.[info] Starting capability transition coordination: training -> inference for 1 agents
..[info] Starting consensus coordination with 1 inference agents
.[info] Starting consensus coordination with 3 inference agents
.[info] Created barrier :sync_checkpoint for 1 coordination agents
.[info] Starting resource allocation coordination with 2 agents using greedy strategy
.[warning] No capable agents found for coordination: :non_existent
.[info] Starting load balancing coordination for 2 inference agents
..[warning] No agents meet resource requirements: %{cpu: 2.0, memory: 2.0}
.[info] Starting resource allocation coordination with 3 agents using greedy strategy
.[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] The function passed as a handler with ID "jido-signal-router" is a local function.
This means that it is either an anonymous function or a capture of a function without a module specified. That may cause a performance penalty when calling that handler. For more details see the note in `telemetry:attach/4` documentation.

https://hexdocs.pm/telemetry/telemetry.html#attach/4
[info] Registered Jido agent #PID<0.2164.0> with Foundation
.[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] The function passed as a handler with ID "jido-signal-router" is a local function.
This means that it is either an anonymous function or a capture of a function without a module specified. That may cause a performance penalty when calling that handler. For more details see the note in `telemetry:attach/4` documentation.

https://hexdocs.pm/telemetry/telemetry.html#attach/4
[info] Registered Jido agent #PID<0.2171.0> with Foundation
.[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] The function passed as a handler with ID "jido-signal-router" is a local function.
This means that it is either an anonymous function or a capture of a function without a module specified. That may cause a performance penalty when calling that handler. For more details see the note in `telemetry:attach/4` documentation.

https://hexdocs.pm/telemetry/telemetry.html#attach/4
[info] Registered Jido agent #PID<0.2180.0> with Foundation
.[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] The function passed as a handler with ID "jido-signal-router" is a local function.
This means that it is either an anonymous function or a capture of a function without a module specified. That may cause a performance penalty when calling that handler. For more details see the note in `telemetry:attach/4` documentation.

https://hexdocs.pm/telemetry/telemetry.html#attach/4
[info] The function passed as a handler with ID "test-routing-events" is a local function.
This means that it is either an anonymous function or a capture of a function without a module specified. That may cause a performance penalty when calling that handler. For more details see the note in `telemetry:attach/4` documentation.

https://hexdocs.pm/telemetry/telemetry.html#attach/4
[info] Registered Jido agent #PID<0.2187.0> with Foundation
.[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] The function passed as a handler with ID "jido-signal-router" is a local function.
This means that it is either an anonymous function or a capture of a function without a module specified. That may cause a performance penalty when calling that handler. For more details see the note in `telemetry:attach/4` documentation.

https://hexdocs.pm/telemetry/telemetry.html#attach/4
[info] Registered Jido agent #PID<0.2195.0> with Foundation
.[info] Starting SystemHealthSensor
.[info] Starting SystemHealthSensor


  9) test process integration sensor process handles periodic collection (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:338
     ** (MatchError) no match of right hand side value: {:error, "invalid value for :target option: invalid dispatch configuration - must be a valid dispatch config tuple or keyword list"}
     code: {:ok, pid} = SystemHealthSensor.start_link(config)
     stacktrace:
       test/jido_system/sensors/system_health_sensor_test.exs:345: (test)



 10) test configuration validation works with minimal configuration (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:409
     ** (KeyError) key :collection_interval not found in: %{id: "minimal_sensor", target: {:test, #PID<0.2201.0>}}
     code: {:ok, state} = SystemHealthSensor.mount(minimal_config)
     stacktrace:
       (foundation 0.1.5) lib/jido_system/sensors/system_health_sensor.ex:79: JidoSystem.Sensors.SystemHealthSensor.mount/1
       test/jido_system/sensors/system_health_sensor_test.exs:415: (test)

[error] Failed to collect system metrics
[info] Starting SystemHealthSensor


 11) test signal generation generates signals with correct structure (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:294
     match (=) failed
     code:  assert %Signal{type: type, data: data} = signal
     left:  %Jido.Signal{type: type, data: data}
     right: {:ok, %Jido.Signal{jido_dispatch: nil, data: %{error: "%KeyError{key: :message_queue_size, term: %{process_count: 10000, memory_usage: 85, cpu_usage: 80}, message: nil}", timestamp: ~U[2025-06-28 20:56:06.055855Z], sensor_id: "signal_test_sensor"}, dataschema: nil, datacontenttype: "application/json", time: "2025-06-28T20:56:06.055931Z", subject: nil, type: "system.health.error", source: "/sensors/system_health", id: "0197b853-6dc6-725d-b59b-aad95b7b6dc3", specversion: "1.0.2"}}
     stacktrace:
       test/jido_system/sensors/system_health_sensor_test.exs:298: (test)

[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[info] Starting SystemHealthSensor


 12) test anomaly detection detects anomalies when enabled (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:254
     ** (KeyError) key :data not found in: {:ok,
      %Jido.Signal{
        jido_dispatch: nil,
        data: %{
          error: "%KeyError{key: :message_queue_size, term: %{process_count: 10000, memory_usage: 85, cpu_usage: 80}, message: nil}",
          timestamp: ~U[2025-06-28 20:56:06.129314Z],
          sensor_id: "anomaly_test_sensor"
        },
        dataschema: nil,
        datacontenttype: "application/json",
        time: "2025-06-28T20:56:06.129365Z",
        subject: nil,
        type: "system.health.error",
        source: "/sensors/system_health",
        id: "0197b853-6e10-7d8d-9162-852fd3effbc2",
        specversion: "1.0.2"
      }}

     If you are using the dot syntax, such as map.field, make sure the left-hand side of the dot is a map
     code: assert is_list(signal.data.anomalies)
     stacktrace:
       test/jido_system/sensors/system_health_sensor_test.exs:264: (test)

.[info] Starting SystemHealthSensor
[error] Failed to collect system metrics
[info] Starting SystemHealthSensor


 13) test error handling produces error signals when collection fails (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:394
     match (=) failed
     code:  assert %Signal{} = signal
     left:  %Jido.Signal{}
     right: {:ok, %Jido.Signal{jido_dispatch: nil, data: %{error: "%KeyError{key: :message_queue_size, term: %{process_count: 10000, memory_usage: 85, cpu_usage: 80}, message: nil}", timestamp: ~U[2025-06-28 20:56:06.138818Z], sensor_id: "error_test_sensor"}, dataschema: nil, datacontenttype: "application/json", time: "2025-06-28T20:56:06.138891Z", subject: nil, type: "system.health.error", source: "/sensors/system_health", id: "0197b853-6e19-7167-9776-f700adc08c87", specversion: "1.0.2"}}
     stacktrace:
       test/jido_system/sensors/system_health_sensor_test.exs:402: (test)

[error] Failed to collect system metrics
[info] Starting SystemHealthSensor


 14) test signal generation includes sensor metadata in signals (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:313
     ** (KeyError) key :data not found in: {:ok,
      %Jido.Signal{
        jido_dispatch: nil,
        data: %{
          error: "%KeyError{key: :message_queue_size, term: %{process_count: 10000, memory_usage: 85, cpu_usage: 80}, message: nil}",
          timestamp: ~U[2025-06-28 20:56:06.143771Z],
          sensor_id: "signal_test_sensor"
        },
        dataschema: nil,
        datacontenttype: "application/json",
        time: "2025-06-28T20:56:06.143833Z",
        subject: nil,
        type: "system.health.error",
        source: "/sensors/system_health",
        id: "0197b853-6e1e-7056-bf01-4354eb07d963",
        specversion: "1.0.2"
      }}

     If you are using the dot syntax, such as map.field, make sure the left-hand side of the dot is a map
     code: assert signal.data.sensor_id == state.id
     stacktrace:
       test/jido_system/sensors/system_health_sensor_test.exs:317: (test)

[error] Failed to collect system metrics
[info] Starting SystemHealthSensor


 15) test metrics collection collects comprehensive system metrics (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:98
     match (=) failed
     code:  assert %Signal{} = signal
     left:  %Jido.Signal{}
     right: {:ok, %Jido.Signal{jido_dispatch: nil, data: %{error: "%KeyError{key: :message_queue_size, term: %{process_count: 10000, memory_usage: 85, cpu_usage: 80}, message: nil}", timestamp: ~U[2025-06-28 20:56:06.149117Z], sensor_id: "metrics_test_sensor"}, dataschema: nil, datacontenttype: "application/json", time: "2025-06-28T20:56:06.149194Z", subject: nil, type: "system.health.error", source: "/sensors/system_health", id: "0197b853-6e23-7be4-bb4a-df3323afa608", specversion: "1.0.2"}}
     stacktrace:
       test/jido_system/sensors/system_health_sensor_test.exs:101: (test)

.[info] Starting SystemHealthSensor


 16) test process integration sensor process handles unknown messages gracefully (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:353
     ** (MatchError) no match of right hand side value: {:error, "invalid value for :target option: invalid dispatch configuration - must be a valid dispatch config tuple or keyword list"}
     code: {:ok, pid} = SystemHealthSensor.start_link(config)
     stacktrace:
       test/jido_system/sensors/system_health_sensor_test.exs:360: (test)

[error] Failed to collect system metrics
[info] Starting SystemHealthSensor


[info] Starting SystemHealthSensor
 17) test error handling handles metrics collection errors gracefully (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:384
     match (match?) failed
     code:  assert match?({:ok, %Signal{}, _state}, result)
     left:  {:ok, %Jido.Signal{}, _state}
     right: {
              :ok,
              {:ok, %Jido.Signal{jido_dispatch: nil, data: %{error: "%KeyError{key: :message_queue_size, term: %{process_count: 10000, memory_usage: 85, cpu_usage: 80}, message: nil}", timestamp: ~U[2025-06-28 20:56:06.330372Z], sensor_id: "error_test_sensor"}, dataschema: nil, datacontenttype: "application/json", time: "2025-06-28T20:56:06.330425Z", subject: nil, type: "system.health.error", source: "/sensors/system_health", id: "0197b853-6ed9-7307-a6be-8f1008bf17ae", specversion: "1.0.2"}},
              %{
                id: "error_test_sensor",
                started_at: ~U[2025-06-28 20:56:06.324200Z],
                target: {:test, #PID<0.2213.0>},
                history_size: 100,
                collection_interval: 1000,
                thresholds: %{process_count: 10000, memory_usage: 85, cpu_usage: 80},
                enable_anomaly_detection: true,
                collection_count: 0,
                metrics_history: [],
                last_metrics: %{},
                baseline_metrics: %{},
                last_alerts: %{},
                alert_cooldown: 300000
              }
            }
     stacktrace:
       test/jido_system/sensors/system_health_sensor_test.exs:391: (test)

.

 18) test configuration validation respects custom thresholds (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:423
     ** (KeyError) key :collection_interval not found in: %{
       id: "custom_thresholds_sensor",
       target: {:test, #PID<0.2216.0>},
       thresholds: %{memory_usage: 95, cpu_usage: 90, custom_metric: 50}
     }
     code: {:ok, state} = SystemHealthSensor.mount(config)
     stacktrace:
       (foundation 0.1.5) lib/jido_system/sensors/system_health_sensor.ex:79: JidoSystem.Sensors.SystemHealthSensor.mount/1
       test/jido_system/sensors/system_health_sensor_test.exs:434: (test)

[error] Failed to collect system metrics
[info] Starting SystemHealthSensor


 19) test anomaly detection skips anomaly detection when disabled (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:268
     ** (KeyError) key :data not found in: {:ok,
      %Jido.Signal{
        jido_dispatch: nil,
        data: %{
          error: "%KeyError{key: :message_queue_size, term: %{process_count: 10000, memory_usage: 85, cpu_usage: 80}, message: nil}",
          timestamp: ~U[2025-06-28 20:56:06.336287Z],
          sensor_id: "anomaly_test_sensor"
        },
        dataschema: nil,
        datacontenttype: "application/json",
        time: "2025-06-28T20:56:06.336327Z",
        subject: nil,
        type: "system.health.error",
        source: "/sensors/system_health",
        id: "0197b853-6edf-7135-85fb-69aca3292cda",
        specversion: "1.0.2"
      }}

     If you are using the dot syntax, such as map.field, make sure the left-hand side of the dot is a map
     code: assert is_list(signal.data.anomalies)
     stacktrace:
       test/jido_system/sensors/system_health_sensor_test.exs:274: (test)

[error] Failed to collect system metrics


[info] Starting SystemHealthSensor
 20) test signal generation generates different signal types based on health status (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:322
     ** (KeyError) key :type not found in: {:ok,
      %Jido.Signal{
        jido_dispatch: nil,
        data: %{
          error: "%KeyError{key: :message_queue_size, term: %{process_count: 10000, memory_usage: 85, cpu_usage: 80}, message: nil}",
          timestamp: ~U[2025-06-28 20:56:06.340974Z],
          sensor_id: "signal_test_sensor"
        },
        dataschema: nil,
        datacontenttype: "application/json",
        time: "2025-06-28T20:56:06.341016Z",
        subject: nil,
        type: "system.health.error",
        source: "/sensors/system_health",
        id: "0197b853-6ee3-7f28-afb3-147ffbe1ed97",
        specversion: "1.0.2"
      }}

     If you are using the dot syntax, such as map.field, make sure the left-hand side of the dot is a map
     code: assert signal.type in valid_types
     stacktrace:
       test/jido_system/sensors/system_health_sensor_test.exs:333: (test)



 21) test sensor initialization starts the sensor process (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:66
     ** (MatchError) no match of right hand side value: {:error, "invalid value for :target option: invalid dispatch configuration - must be a valid dispatch config tuple or keyword list"}
     code: {:ok, pid} = SystemHealthSensor.start_link(config)
     stacktrace:
       test/jido_system/sensors/system_health_sensor_test.exs:73: (test)

.[info] Starting SystemHealthSensor
.[info] Starting SystemHealthSensor
[error] Failed to collect system metrics
[info] Starting SystemHealthSensor


 22) test metrics collection handles collection errors gracefully (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:134
     match (=) failed
     code:  assert %Signal{} = signal
     left:  %Jido.Signal{}
     right: {:ok, %Jido.Signal{jido_dispatch: nil, data: %{error: "%KeyError{key: :message_queue_size, term: %{process_count: 10000, memory_usage: 85, cpu_usage: 80}, message: nil}", timestamp: ~U[2025-06-28 20:56:06.353520Z], sensor_id: "metrics_test_sensor"}, dataschema: nil, datacontenttype: "application/json", time: "2025-06-28T20:56:06.353554Z", subject: nil, type: "system.health.error", source: "/sensors/system_health", id: "0197b853-6ef0-75a0-b515-37885fbbc727", specversion: "1.0.2"}}
     stacktrace:
       test/jido_system/sensors/system_health_sensor_test.exs:142: (test)

[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics
[error] Failed to collect system metrics


 23) test metrics collection maintains metrics history within limit (JidoSystem.Sensors.SystemHealthSensorTest)
     test/jido_system/sensors/system_health_sensor_test.exs:122
     Assertion with == failed
     code:  assert length(state.metrics_history) == state.history_size
     left:  0
     right: 10
     stacktrace:
       test/jido_system/sensors/system_health_sensor_test.exs:130: (test)

[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] MABEAM.AgentRegistry (test) started with anonymous ETS tables (process-managed)
[info] The function passed as a handler with ID "test_startup" is a local function.
This means that it is either an anonymous function or a capture of a function without a module specified. That may cause a performance penalty when calling that handler. For more details see the note in `telemetry:attach/4` documentation.

https://hexdocs.pm/telemetry/telemetry.html#attach/4
[info] FoundationAgent mount called for agent test_agent_telemetry
[info] Attempting to register agent test_agent_telemetry with Bridge
[info] Registered Jido agent #PID<0.2230.0> with Foundation
[info] Agent test_agent_telemetry registered with Foundation
.[info] Initializing TestAgent Agent Server, ID: test_agent_telemetry, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:test_agent_telemetry with data=%{agent_id: "test_agent_telemetry"}
[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] MABEAM.AgentRegistry (test) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent multi_agent_1
[info] Attempting to register agent multi_agent_1 with Bridge
[info] Registered Jido agent #PID<0.2236.0> with Foundation
[info] Agent multi_agent_1 registered with Foundation
[info] Initializing TestAgent Agent Server, ID: multi_agent_1, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:multi_agent_1 with data=%{agent_id: "multi_agent_1"}
[info] FoundationAgent mount called for agent multi_agent_2
[info] Attempting to register agent multi_agent_2 with Bridge
[info] Registered Jido agent #PID<0.2238.0> with Foundation
[info] Agent multi_agent_2 registered with Foundation
[info] Initializing TestAgent Agent Server, ID: multi_agent_2, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:multi_agent_2 with data=%{agent_id: "multi_agent_2"}
[info] FoundationAgent mount called for agent multi_agent_3
[info] Attempting to register agent multi_agent_3 with Bridge
[info] Registered Jido agent #PID<0.2240.0> with Foundation
[info] Agent multi_agent_3 registered with Foundation
[info] Initializing TestAgent Agent Server, ID: multi_agent_3, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:multi_agent_3 with data=%{agent_id: "multi_agent_3"}
[info] FoundationAgent mount called for agent multi_agent_4
[info] Attempting to register agent multi_agent_4 with Bridge
[info] Registered Jido agent #PID<0.2242.0> with Foundation
[info] Agent multi_agent_4 registered with Foundation
[info] Initializing TestAgent Agent Server, ID: multi_agent_4, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:multi_agent_4 with data=%{agent_id: "multi_agent_4"}
[info] FoundationAgent mount called for agent multi_agent_5
[info] Attempting to register agent multi_agent_5 with Bridge
[info] Registered Jido agent #PID<0.2244.0> with Foundation
[info] Agent multi_agent_5 registered with Foundation
[info] Initializing TestAgent Agent Server, ID: multi_agent_5, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:multi_agent_5 with data=%{agent_id: "multi_agent_5"}
[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)


 24) test Foundation integration multiple agents can be registered simultaneously (JidoSystem.Agents.FoundationAgentTest)
     test/jido_system/agents/foundation_agent_test.exs:312
     Assertion with in failed
     code:  assert agent_pid in registered_pids
     left:  #PID<0.2236.0>
     right: []
     stacktrace:
       (elixir 1.18.3) lib/enum.ex:987: Enum."-each/2-lists^foreach/1-0-"/2
       test/jido_system/agents/foundation_agent_test.exs:325: (test)

[info] MABEAM.AgentRegistry (test) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent test_agent_schema
[info] Attempting to register agent test_agent_schema with Bridge
[info] Registered Jido agent #PID<0.2251.0> with Foundation
[info] Agent test_agent_schema registered with Foundation
[info] Initializing TestAgent Agent Server, ID: test_agent_schema, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:test_agent_schema with data=%{agent_id: "test_agent_schema"}
.[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] MABEAM.AgentRegistry (test) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent test_agent_helpers
[info] Attempting to register agent test_agent_helpers with Bridge
[info] Registered Jido agent #PID<0.2257.0> with Foundation
[info] Agent test_agent_helpers registered with Foundation
[info] Initializing TestAgent Agent Server, ID: test_agent_helpers, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:test_agent_helpers with data=%{agent_id: "test_agent_helpers"}
.[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] MABEAM.AgentRegistry (test) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent test_agent_actions
[info] Attempting to register agent test_agent_actions with Bridge
[info] Registered Jido agent #PID<0.2263.0> with Foundation
[info] Agent test_agent_actions registered with Foundation
[info] Initializing TestAgent Agent Server, ID: test_agent_actions, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:test_agent_actions with data=%{agent_id: "test_agent_actions"}
[info] The function passed as a handler with ID "test_actions" is a local function.
This means that it is either an anonymous function or a capture of a function without a module specified. That may cause a performance penalty when calling that handler. For more details see the note in `telemetry:attach/4` documentation.

https://hexdocs.pm/telemetry/telemetry.html#attach/4
[warning] Agent test_agent_actions encountered error: #Jido.Error<
  type: :config_error
  message: "Action: Elixir.Jido.Actions.StateManager.Get not registered with agent test_agent"
  details: %{actions: [Jido.Actions.StateManager.Get], allowed_actions: [Jido.Actions.Basic.Log, Jido.Actions.Basic.Sleep, Jido.Actions.Basic.Noop, Jido.Actions.Basic.Inspect, Jido.Actions.Basic.Today]}
  stacktrace:
    (jido 1.2.0) lib/jido/error.ex:139: Jido.Error.new/4
    (jido 1.2.0) lib/jido/instruction.ex:440: Jido.Instruction.validate_allowed_actions/2
    deps/jido/lib/jido/agent.ex:845: JidoSystem.Agents.FoundationAgentTest.TestAgent.plan/3
    deps/jido/lib/jido/agent.ex:1064: JidoSystem.Agents.FoundationAgentTest.TestAgent.cmd/4
    (jido 1.2.0) lib/jido/agent/server_runtime.ex:129: Jido.Agent.Server.Runtime.do_agent_cmd/3
>


[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
 25) test action lifecycle telemetry emits telemetry for action execution (JidoSystem.Agents.FoundationAgentTest)
     test/jido_system/agents/foundation_agent_test.exs:120
     Assertion failed, no matching message after 100ms
     The following variables were pinned:
       ref = #Reference<0.1787707664.1410334726.246424>
     The process mailbox is empty.
     code: assert_receive {^ref, [:jido_foundation, :bridge, :agent_event], _, _}
     stacktrace:
       test/jido_system/agents/foundation_agent_test.exs:146: (test)

[info] MABEAM.AgentRegistry (test) started with anonymous ETS tables (process-managed)
.[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] MABEAM.AgentRegistry (test) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent test_agent_1
[info] Attempting to register agent test_agent_1 with Bridge
[info] Registered Jido agent #PID<0.2273.0> with Foundation
[info] Agent test_agent_1 registered with Foundation
[info] Initializing TestAgent Agent Server, ID: test_agent_1, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:test_agent_1 with data=%{agent_id: "test_agent_1"}
.[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] MABEAM.AgentRegistry (test) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent foundation_integration_test
[info] Attempting to register agent foundation_integration_test with Bridge
[info] Registered Jido agent #PID<0.2279.0> with Foundation
[info] Agent foundation_integration_test registered with Foundation
[info] Initializing TestAgent Agent Server, ID: foundation_integration_test, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:foundation_integration_test with data=%{agent_id: "foundation_integration_test"}
[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)


 26) test Foundation integration agent properly integrates with Foundation Registry (JidoSystem.Agents.FoundationAgentTest)
     test/jido_system/agents/foundation_agent_test.exs:294
     Agent not found in global registry
     code: flunk("Agent not found in global registry")
     stacktrace:
       test/jido_system/agents/foundation_agent_test.exs:308: (test)

[info] MABEAM.AgentRegistry (test) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent test_agent_failure
[info] Attempting to register agent test_agent_failure with Bridge
[info] Registered Jido agent #PID<0.2285.0> with Foundation
[info] Agent test_agent_failure registered with Foundation
[info] Initializing TestAgent Agent Server, ID: test_agent_failure, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:test_agent_failure with data=%{agent_id: "test_agent_failure"}
.[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] MABEAM.AgentRegistry (test) started with anonymous ETS tables (process-managed)
[info] The function passed as a handler with ID "test_termination" is a local function.
This means that it is either an anonymous function or a capture of a function without a module specified. That may cause a performance penalty when calling that handler. For more details see the note in `telemetry:attach/4` documentation.

https://hexdocs.pm/telemetry/telemetry.html#attach/4
[info] FoundationAgent mount called for agent test_agent_term_telemetry
[info] Attempting to register agent test_agent_term_telemetry with Bridge
[info] Registered Jido agent #PID<0.2291.0> with Foundation
[info] Agent test_agent_term_telemetry registered with Foundation
[info] Initializing TestAgent Agent Server, ID: test_agent_term_telemetry, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:test_agent_term_telemetry with data=%{agent_id: "test_agent_term_telemetry"}
[error] Elixir.JidoSystem.Agents.FoundationAgentTest.TestAgent server terminating

Reason:
** (ErlangError) Erlang error: :normal

Stacktrace:
    (elixir 1.18.3) lib/process.ex:896: Process.info/2
    (jido 1.2.0) lib/jido/agent/server.ex:344: Jido.Agent.Server.terminate/2
    (stdlib 6.2.2) gen_server.erl:2393: :gen_server.try_terminate/3
    (stdlib 6.2.2) gen_server.erl:2594: :gen_server.terminate/10
    (stdlib 6.2.2) proc_lib.erl:329: :proc_lib.init_p_do_apply/3


Agent State:
- ID: test_agent_term_telemetry
- Status: idle
- Queue Size: 0
- Mode: auto

[info] Agent test_agent_term_telemetry shutting down: :normal
[info] SIGNAL: jido.agent.event.stopped from agent:test_agent_term_telemetry with data=%{reason: :normal}
.[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] MABEAM.AgentRegistry (test) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent test_agent_helpers
[info] Attempting to register agent test_agent_helpers with Bridge
[info] Registered Jido agent #PID<0.2297.0> with Foundation
[info] Agent test_agent_helpers registered with Foundation
[info] Initializing TestAgent Agent Server, ID: test_agent_helpers, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:test_agent_helpers with data=%{agent_id: "test_agent_helpers"}
[info] The function passed as a handler with ID "test_emit_event" is a local function.
This means that it is either an anonymous function or a capture of a function without a module specified. That may cause a performance penalty when calling that handler. For more details see the note in `telemetry:attach/4` documentation.

https://hexdocs.pm/telemetry/telemetry.html#attach/4


 27) test helper functions emit_event helper works correctly (JidoSystem.Agents.FoundationAgentTest)
     test/jido_system/agents/foundation_agent_test.exs:235
     Assertion failed, no matching message after 100ms
     The following variables were pinned:
       ref = #Reference<0.1787707664.1410334729.247646>
     The process mailbox is empty.
     code: assert_receive {^ref, :custom_event, measurements, metadata}
     stacktrace:
       test/jido_system/agents/foundation_agent_test.exs:252: (test)

[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)
[info] MABEAM.AgentRegistry (test) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent test_agent_terminate
[info] Attempting to register agent test_agent_terminate with Bridge
[info] Registered Jido agent #PID<0.2303.0> with Foundation
[info] Agent test_agent_terminate registered with Foundation
[info] Initializing TestAgent Agent Server, ID: test_agent_terminate, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:test_agent_terminate with data=%{agent_id: "test_agent_terminate"}
[info] MABEAM.AgentRegistry (default) started with anonymous ETS tables (process-managed)


 28) test agent termination deregisters from Foundation on termination (JidoSystem.Agents.FoundationAgentTest)
     test/jido_system/agents/foundation_agent_test.exs:187
     match (=) failed
     The following variables were pinned:
       pid = #PID<0.2303.0>
     code:  assert {:ok, {^pid, _}} = Foundation.Registry.lookup(registry, pid)
     left:  {:ok, {^pid, _}}
     right: :error
     stacktrace:
       test/jido_system/agents/foundation_agent_test.exs:193: (test)

[info] MABEAM.AgentRegistry (test) started with anonymous ETS tables (process-managed)
[info] FoundationAgent mount called for agent test_agent_errors
[info] Attempting to register agent test_agent_errors with Bridge
[info] Registered Jido agent #PID<0.2310.0> with Foundation
[info] Agent test_agent_errors registered with Foundation
[info] Initializing TestAgent Agent Server, ID: test_agent_errors, Log Level: info
[info] SIGNAL: jido.agent.event.started from agent:test_agent_errors with data=%{agent_id: "test_agent_errors"}
[info] The function passed as a handler with ID "test_errors" is a local function.
This means that it is either an anonymous function or a capture of a function without a module specified. That may cause a performance penalty when calling that handler. For more details see the note in `telemetry:attach/4` documentation.

https://hexdocs.pm/telemetry/telemetry.html#attach/4
.
Finished in 33.0 seconds (1.4s async, 31.6s sync)
259 tests, 28 failures
